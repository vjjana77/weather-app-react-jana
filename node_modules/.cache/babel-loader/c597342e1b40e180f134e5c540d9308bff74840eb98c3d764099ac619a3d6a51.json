{"ast":null,"code":"var _jsxFileName = \"D:\\\\REACT\\\\ss-solution-jana-task\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport React, { useEffect, useState } from \"react\";\nimport { Dimmer, Loader } from 'semantic-ui-react';\nimport Weather from './components/weather';\nimport Forecast from './components/forecast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [lat, setLat] = useState([]);\n  const [long, setLong] = useState([]);\n  const [weatherData, setWeatherData] = useState([]);\n  const [forecast, setForecast] = useState([]);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(function (position) {\n      setLat(position.coords.latitude);\n      setLong(position.coords.longitude);\n    });\n    getWeather(lat, long).then(weather => {\n      setWeatherData(weather);\n      setError(null);\n    }).catch(err => {\n      setError(err.message);\n    });\n    getForecast(lat, long).then(data => {\n      setForecast(data);\n      setError(null);\n    }).catch(err => {\n      setError(err.message);\n    });\n  }, [lat, long, error]);\n  function handleResponse(response) {\n    if (response.ok) {\n      return response.json();\n    } else {\n      throw new Error(\"Please Enable your Location in your browser!\");\n    }\n  }\n  function getWeather(lat, long) {\n    return fetch(`${process.env.REACT_APP_API_URL}/weather/?lat=${lat}&lon=${long}&units=metric&APPID=${process.env.REACT_APP_API_KEY}`).then(res => handleResponse(res)).then(weather => {\n      if (Object.entries(weather).length) {\n        const mappedData = mapDataToWeatherInterface(weather);\n        return mappedData;\n      }\n    });\n  }\n  function getForecast(lat, long) {\n    return fetch(`${process.env.REACT_APP_API_URL}/forecast/?lat=${lat}&lon=${long}&units=metric&APPID=${process.env.REACT_APP_API_KEY}`).then(res => handleResponse(res)).then(forecastData => {\n      if (Object.entries(forecastData).length) {\n        return forecastData.list.filter(forecast => forecast.dt_txt.match(/09:00:00/)).map(mapDataToWeatherInterface);\n      }\n    });\n  }\n  function mapDataToWeatherInterface(data) {\n    const mapped = {\n      date: data.dt * 1000,\n      // convert from seconds to milliseconds\n      description: data.weather[0].main,\n      temperature: Math.round(data.main.temp)\n    };\n\n    // Add extra properties for the five day forecast: dt_txt, icon, min, max\n    if (data.dt_txt) {\n      mapped.dt_txt = data.dt_txt;\n    }\n    return mapped;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: typeof weatherData.main != 'undefined' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Weather, {\n        weatherData: weatherData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Forecast, {\n        forecast: forecast,\n        weatherData: weatherData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Dimmer, {\n        active: true,\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          children: \"Loading..\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"tR/Q1vYR+R8eAuUqAPmVbJOgg38=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Dimmer","Loader","Weather","Forecast","jsxDEV","_jsxDEV","App","_s","lat","setLat","long","setLong","weatherData","setWeatherData","forecast","setForecast","error","setError","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","getWeather","then","weather","catch","err","message","getForecast","data","handleResponse","response","ok","json","Error","fetch","process","env","REACT_APP_API_URL","REACT_APP_API_KEY","res","Object","entries","length","mappedData","mapDataToWeatherInterface","forecastData","list","filter","dt_txt","match","map","mapped","date","dt","description","main","temperature","Math","round","temp","className","children","fileName","_jsxFileName","lineNumber","columnNumber","active","_c","$RefreshReg$"],"sources":["D:/REACT/ss-solution-jana-task/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useEffect, useState } from \"react\";\nimport { Dimmer, Loader } from 'semantic-ui-react';\nimport Weather from './components/weather';\nimport Forecast from './components/forecast';\nexport default function App() {\n  \n  const [lat, setLat] = useState([]);\n  const [long, setLong] = useState([]);\n  const [weatherData, setWeatherData] = useState([]);\n  const [forecast, setForecast] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n      navigator.geolocation.getCurrentPosition(function(position) {\n        setLat(position.coords.latitude);\n        setLong(position.coords.longitude);\n      });\n    \n      getWeather(lat, long)\n      .then(weather => {\n        setWeatherData(weather);\n        setError(null);\n      })\n      .catch(err => {\n        setError(err.message);\n      });\n\n      getForecast(lat, long)\n        .then(data => {\n          setForecast(data);\n          setError(null);\n        })\n        .catch(err => {\n          setError(err.message);\n        });\n\n  }, [lat,long,error])\n\n  function handleResponse(response) {\n    if (response.ok) {\n      return response.json();\n    } else {\n      throw new Error(\"Please Enable your Location in your browser!\");\n    }\n  }\n\n  function getWeather(lat, long) {\n    return fetch(\n      `${process.env.REACT_APP_API_URL}/weather/?lat=${lat}&lon=${long}&units=metric&APPID=${process.env.REACT_APP_API_KEY}`\n    )\n      .then(res => handleResponse(res))\n      .then(weather => {\n        if (Object.entries(weather).length) {\n          const mappedData = mapDataToWeatherInterface(weather);\n          return mappedData;\n        }\n      });\n  }\n  \n  function getForecast(lat, long) {\n    return fetch(\n      `${process.env.REACT_APP_API_URL}/forecast/?lat=${lat}&lon=${long}&units=metric&APPID=${process.env.REACT_APP_API_KEY}`\n    )\n      .then(res => handleResponse(res))\n      .then(forecastData => {\n        if (Object.entries(forecastData).length) {\n          return forecastData.list\n            .filter(forecast => forecast.dt_txt.match(/09:00:00/))\n            .map(mapDataToWeatherInterface);\n        }\n      });\n  }\n\n  function mapDataToWeatherInterface(data) {\n    const mapped = {\n      date: data.dt * 1000, // convert from seconds to milliseconds\n      description: data.weather[0].main,\n      temperature: Math.round(data.main.temp),\n    };\n  \n    // Add extra properties for the five day forecast: dt_txt, icon, min, max\n    if (data.dt_txt) {\n      mapped.dt_txt = data.dt_txt;\n    }\n  \n    return mapped;\n  }\n  \n  return (\n    <div className=\"App\">\n      {(typeof weatherData.main != 'undefined') ? (\n        <div>\n          <Weather weatherData={weatherData}/>\n          <Forecast forecast={forecast} weatherData={weatherData}/>\n        </div>\n      ): (\n        <div>\n          <Dimmer active>\n            <Loader>Loading..</Loader>\n          </Dimmer>\n        </div>\n      )}\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}